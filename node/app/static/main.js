// Generated by CoffeeScript 1.8.0
(function() {
  $(function() {
    return $('#search input').on('keyup', function(event) {
      var text;
      text = $(this).val();
      if (event.keyCode === 13) {
        return $.ajax({
          url: '/search',
          type: 'POST',
          data: {
            user: FB.user.id,
            val: text
          },
          success: function(data) {
            return $('#title').val(data);
          },
          dataType: 'json'
        });
      } else if (event.key.length === 1) {
        return $.ajax({
          url: '/autocomplete',
          type: 'POST',
          data: {
            user: FB.user.id,
            val: text
          },
          success: function(data) {
            return $('#autocomplete').val(data);
          },
          dataType: 'json'
        });
      }
    });
  });

}).call(this);
